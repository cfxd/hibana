{%- comment -%}
/* ------------------------------------------------------------------------
| Widows Filter
|--------------------------------------------------------------------------
Accepts
- text: {String} Text String
---------------------------------------------------------------------------
Usage
{% include 'helper-widow' with text: hero_title %}
---------------------------------------------------------------------------
Description
This file will take a string, such as a title, find the last word (and its preceeding space),
then replace this with an non-breaking space. (&nbsp;) This can be used to help defend against widows / orphans on titles.
---------------------------------------------------------------------------
*/
{%- endcomment -%}
{% assign word_count = text | split: " " %}
{%- if word_count.length > 1 -%}
{%- capture last_word -%}{{ text | split: " " | last }}{%- endcapture -%}
{%- capture last_word_with_space -%}{{ last_word | prepend: " " }}{%- endcapture -%}
{%- capture last_word_with_nbsp -%}{{ last_word | prepend: "&nbsp;" }}{%- endcapture -%}
{%- capture text_remove_last_word_with_space -%}{{ text | remove: last_word_with_space }}{%- endcapture -%}
{%- capture text_formatted -%}{{ text_remove_last_word_with_space }}{{ last_word_with_nbsp }}{%- endcapture -%}
{{ text_formatted }}
{%- else -%}
{{ text }}
{%- endif -%}
