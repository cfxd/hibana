{% form 'product', product, data-product-form: '', data-product-handle: product.handle, data-enable-history-state: 'true' %}
  <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}" />
  <input name="quantity" type="hidden" value="1" />

  {% unless product.has_only_default_variant %}
    <div class="ProductVariantsList">
      {% for option in product.options_with_values %}
        {%- if option.values.size > 3 -%}
          <div class="ProductVariantsList__item">
            <div class="js-enabled">
              <label for="Option{{ option.position }}">{{ option.name }}</label>

              <select class="Input Input--select" id="Option{{ option.position }}" name="options[{{ option.name | escape }}]">
                {% for value in option.values %}
                  <option value="{{ value | escape }}" {% if option.selected_value == value %}selected="selected"{% endif %}>
                    {{ value }}
                  </option>
                {% endfor %}
              </select>
            </div>
          </div>
        {%- else -%}
          <li class="ProductVariantsList__item">
              <div class="js">
                  <div class="InputWrap">
                      <label class="InputLabel" for="Option{{ option.position }}">
                          {{ option.name }}
                      </label>

                      <ul class="VariantRadiosList">
                          {% for value in option.values %}
                              <li class="VariantRadiosList__item">
                                  <input class="VariantRadiosList__input" type="radio" id="Option{{ option.position }}-{{ value }}" name="options[{{ option.name }}]" value="{{ value }}" {% if option.selected_value == value %} checked {% endif %}>
                                  <label class="VariantRadiosList__label" for="Option{{ option.position }}-{{ value }}">

                                      <span class="VariantRadiosList__text">
                                          {{ value }}
                                      </span>

                                  </label>
                              </li>
                          {% endfor %}
                      </ul>
                  </div>
              </div>
          </li>
        {%- endif -%}
      {% endfor %}
    </div>
  {% endunless %}

  <noscript>
    <select name="id">
      {% for variant in product.variants %}
        <option {% if variant == current_variant %}selected="selected"{% endif %} {% unless variant.available %}disabled="disabled"{% endunless %} value="{{ variant.id }}">
          {{ variant.title }}
        </option>
      {% endfor %}
    </select>
  </noscript>

  {%- if current_variant.available -%}
    <div class="prd-Product_Quantity" data-product-quantity>
      <label class="prd-Product_Label util-ScreenReaderOnly" for="Quantity">{{ 'products.product.quantity' | t }}</label>

      <select class="prd-Product_Quantity" id="Quantity" name="quantity">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
      </select>
    </div>
  {%- endif -%}

  <button class="button button--primary button--block" type="submit" name="add" data-submit-button {% unless current_variant.available %}disabled="disabled"{% endunless %}>
    <span data-submit-button-text>
      {% if current_variant.available %}
        {{ 'products.product.add_to_cart' | t }}
      {% else %}
        {{ 'products.product.sold_out' | t }}
      {% endif %}
    </span>
  </button>
{% endform %}
