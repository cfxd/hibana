{%- assign on_sale = false -%}
{%- assign current_variant = product.selected_or_first_available_variant -%}

{%- if product.compare_at_price > product.price -%}
  {%- assign on_sale = true -%}
{%- endif -%}

<div class="prd-Card{% if not_grid == true %} prd-Card-notgrid{% endif %}">
  {%- if product.featured_image != blank -%}
    <a href="{{ product.url }}" class="prd-Card_ImageContainer">
      {%- for image in product.images -%}
        <div class="prd-Card_Image">
          {%- render 'responsive-image',
            image: image,
            width: width,
            height: height
          -%}
        </div>

        {%- break -%}
      {%- endfor -%}
    </a>
  {%- endif -%}

  <div class="prd-Card_Content">
    <h4 class="prd-Card_Brand">Brand Name</h4>

    <h3 class="prd-Card_Title">
      <a class="prd-Card_TitleLink" href="{{ product.url }}">
        {{ product.title }}
      </a>
    </h3>

    <p class="prd-Card_Price">
      {%- if on_sale -%}
        <span class="prd-Card_ComparePrice">{{ current_variant.compare_at_price | money }}</span>
        <span class="prd-Card_NewPrice">{{ current_variant.price | money }}</span>
      {%- else -%}
        <span class="prd-Card_OriginalPrice">{{ current_variant.price | money }}</span>
      {%- endif -%}

      {%- if product.available == false -%}
        <span class="prd-Card_Soldout">{{ 'products.product.sold_out' | t }}</span>
      {%- endif -%}
    </p>
  </div>
</div>
