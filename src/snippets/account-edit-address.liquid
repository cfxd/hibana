{%- paginate customer.addresses by 20 -%}
  {%- if customer.addresses.size > 0 -%}
    {%- for address in customer.addresses -%}
      <div class="AccountAddress" data-address>
        {%- if address == customer.default_address -%}
          <h3 class="AccountAddress__title">{{ 'customer.addresses.default' | t }}</h3>
        {%- endif -%}

        <p class="AccountAddress__text">{{ address | format_address }}</p>

        <div class="AccountAddressForm UtilityHide" data-address-edit-form id="EditAddress_{{ address.id }}">
          {%- form 'customer_address', address, class: 'Form' -%}
            <ul class="Form__columns Form__columns--tight">
              <li class="Form__column Form__column--span">
                <div class="InputWrap">
                  <label class="InputLabel UtilityScreenReaderOnly" for="AddressFirstName_{{ form.id }}">{{ 'customer.addresses.first_name' | t }}</label>
                  <input class="Input Input--text" type="text" name="address[first_name]" id="AddressFirstName_{{ form.id }}" value="{{ form.first_name }}" placeholder="{{ 'customer.addresses.first_name' | t }}" autocapitalize="words"/>
                </div>
              </li>

              <li class="Form__column Form__column--span">
                <div class="InputWrap">
                  <label class="InputLabel UtilityScreenReaderOnly" for="AddressLastName_{{ form.id }}">{{ 'customer.addresses.last_name' | t }}</label>
                  <input class="Input Input--text" type="text" name="address[last_name]" id="AddressLastName_{{ form.id }}" value="{{ form.last_name }}" placeholder="{{ 'customer.addresses.last_name' | t }}" autocapitalize="words"/>
                </div>
              </li>

              <li class="Form__column Form__column--span">
                <div class="InputWrap">
                  <label class="InputLabel UtilityScreenReaderOnly" for="AddressCompany_{{ form.id }}">{{ 'customer.addresses.company' | t }}</label>
                  <input class="Input Input--text" type="text" name="address[company]" id="AddressCompany_{{ form.id }}" value="{{ form.company }}" placeholder="{{ 'customer.addresses.company' | t }}" autocapitalize="words"/>
                </div>
              </li>

              <li class="Form__column Form__column--span">
                <div class="InputWrap">
                  <label class="InputLabel UtilityScreenReaderOnly" for="AddressAddress1_{{ form.id }}">{{ 'customer.addresses.address1' | t }}</label>
                  <input class="Input Input--text" type="text" name="address[address1]" id="AddressAddress1_{{ form.id }}" value="{{ form.address1 }}" placeholder="{{ 'customer.addresses.address1' | t }}" autocapitalize="words"/>
                </div>
              </li>

              <li class="Form__column Form__column--span">
                <div class="InputWrap">
                  <label class="InputLabel UtilityScreenReaderOnly" for="AddressAddress2_{{ form.id }}">{{ 'customer.addresses.address2' | t }}</label>
                  <input class="Input Input--text" type="text" name="address[address2]" id="AddressAddress2_{{ form.id }}" value="{{ form.address2 }}" placeholder="{{ 'customer.addresses.address2' | t }}" autocapitalize="words"/>
                </div>
              </li>

              <li class="Form__column Form__column--span">
                <div class="InputWrap">
                  <label class="InputLabel UtilityScreenReaderOnly" for="AddressCity_{{ form.id }}">{{ 'customer.addresses.city' | t }}</label>
                  <input class="Input Input--text" type="text" name="address[city]" id="AddressCity_{{ form.id }}" value="{{ form.city }}" placeholder="{{ 'customer.addresses.city' | t }}" autocapitalize="words"/>
                </div>
              </li>

              <li class="Form__column Form__column--span">
                <div class="InputWrap">
                  <label class="InputLabel UtilityScreenReaderOnly" for="AddressCountry_{{ form.id }}">{{ 'customer.addresses.country' | t }}</label>
                  <select class="Input Input--select" name="address[country]" id="AddressCountry_{{ form.id }}" data-form-id="{{ form.id }}" data-address-country data-default="{{ form.country }}">
                    {{ country_option_tags }}
                  </select>
                </div>
              </li>

              <li class="Form__column Form__column--span UtilityHide">
                <div class="InputWrap">
                  <div data-address-province-wrapper id="AddressProvinceContainer_{{ form.id }}">
                    <label class="InputLabel UtilityScreenReaderOnly" for="AddressCountry_{{ form.id }}">{{ 'customer.addresses.country' | t }}</label>
                    <select class="Input Input--select" name="address[country]" id="AddressCountry_{{ form.id }}" data-form-id="{{ form.id }}" data-address-country data-default="{{ form.country }}">
                      {{ country_option_tags }}
                    </select>
                  </div>
                </div>
              </li>

              <li class="Form__column Form__column--span">
                <div class="InputWrap">
                  <label class="InputLabel UtilityScreenReaderOnly" for="AddressZip_{{ form.id }}">{{ 'customer.addresses.zip' | t }}</label>
                  <input class="Input Input--text" type="text" name="address[zip]" id="AddressZip_{{ form.id }}" value="{{ form.zip }}" placeholder="{{ 'customer.addresses.zip' | t }}" autocapitalize="characters"/>
                </div>
              </li>

              <li class="Form__column Form__column--span">
                <div class="InputWrap">
                  <label class="InputLabel UtilityScreenReaderOnly" for="AddressPhone_{{ form.id }}">{{ 'customer.addresses.phone' | t }}</label>
                  <input class="Input Input--text" type="tel" name="address[phone]" id="AddressPhone_{{ form.id }}" pattern="[0-9\-]*" value="{{ form.phone }}" placeholder="{{ 'customer.addresses.phone' | t }}"/>
                </div>
              </li>

              <li class="Form__column Form__column--span">
                <div class="InputWrap InputWrap--checkbox">
                  {{ form.set_as_default_checkbox | class:'Input Input--checkbox' }}
                  <label class="InputLabel" for="address_default_address_{{ form.id }}">{{ 'customer.addresses.set_default' | t }}</label>
                </div>
              </li>
            </ul>

            <div class="Form__footer">
              <ul class="Form__columns Form__columns--tight">
                <li class="Form__column">
                  <button class="button button--primary button--block" type="submit" value="{{ 'customer.addresses.update' | t }}">
                    <span class="button__text">{{ 'customer.addresses.update' | t }}</span>
                  </button>
                </li>

                <li class="Form__column Form__column--center">
                  <button class="Form__link" type="button" data-address-edit-toggle data-form-id="{{ form.id }}">
                    <span class="button__text">{{ 'customer.addresses.cancel' | t }}</span>
                  </button>
                </li>
              </ul>
            </div>
          {%- endform -%}
        </div>

        <div class="Form__footer">
            <ul class="Form__columns Form__columns--tight">
                <li class="Form__column">
                    <button class="button button--block button--primary" type="button" data-address-edit-toggle data-form-id="{{ address.id }}">
                        {{ 'customer.addresses.edit' | t }}
                    </button>
                </li>
                <li class="Form__column">
                    <form data-address-delete-form method="post" action="/account/addresses/{{ address.id }}" data-confirm-message="{{ 'customer.addresses.delete_confirm' | t }}">
                        <input name="_method" type="hidden" value="delete"/>
                        <button class="button button--block button--secondary" type="submit">
                            {{ 'customer.addresses.delete' | t }}
                        </button>
                    </form>
                </li>
            </ul>
        </div>
    </div>
    {%- endfor -%}
  {%- else -%}
    <p class="acc-Box_Text">{{ 'customer.addresses.empty' | t }}</p>
  {%- endif -%}

  {%- if paginate.pages > 1 -%}
    {%- include 'pagination' -%}
  {%- endif -%}
{%- endpaginate -%}
